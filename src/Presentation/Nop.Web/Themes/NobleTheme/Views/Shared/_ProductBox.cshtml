@model ProductOverviewModel
@using Nop.Core
@using Nop.Core.Domain.Catalog
@using Nop.Core.Domain.Orders
@using Nop.Core.Domain.Tax
@using Nop.Core.Domain.Customers
@inject CatalogSettings catalogSettings
@inject IWorkContext workContext
@inject CustomerSettings customerSettings
@{
    //prepare "Add to cart" AJAX link
    var addtocartlink = "";
    var shoppingCartTypeId = (int)ShoppingCartType.ShoppingCart;
    var quantity = 1;
    if (Model.ProductPrice.ForceRedirectionAfterAddingToCart)
    {
        addtocartlink = Url.RouteUrl("AddProductToCart-Catalog", new { productId = Model.Id, shoppingCartTypeId = shoppingCartTypeId, quantity = quantity, forceredirection = Model.ProductPrice.ForceRedirectionAfterAddingToCart });
    }
    else
    {
        addtocartlink = Url.RouteUrl("AddProductToCart-Catalog", new { productId = Model.Id, shoppingCartTypeId = shoppingCartTypeId, quantity = quantity });
    }

    var addtowishlistlink = Url.RouteUrl("AddProductToCart-Catalog", new { productId = Model.Id, shoppingCartTypeId = (int)ShoppingCartType.Wishlist, quantity = quantity });
    var sendinterestlink = Url.RouteUrl("AddProductToCart-Catalog", new { productId = Model.Id, shoppingCartTypeId = (int)ShoppingCartType.InterestSent, quantity = 1 });
    var addtocomparelink = Url.RouteUrl("AddProductToCompare", new { productId = Model.Id });
}

<div class="card clearfix @(Model.PremiumCustomer ? "premium-profile" : "")" data-productid="@Model.Id">
    <div class="row g-0">
        <div class="col-2">
            <a href="@(Url.RouteUrl<Product>(new { SeName = Model.SeName }))" title="@Model.PictureModels[0].Title" class="">
                <img style="height:130px;width:120px;" class="lazyOwl img-thumbnail img-fluid w-10 mw-10 d-block m-2" alt="@Model.PictureModels[0].AlternateText" data-src="@Model.PictureModels[0].ImageUrl" src="@Model.PictureModels[0].ImageUrl" title="@Model.PictureModels[0].Title" />
            </a>
        </div>
        <div class="col-8 border my-1">
            <div class="p-2">
                <i class="fa fa-sm icon-color @(Model.Gender == "M" ? Html.Raw("fa-male") : Html.Raw("fa-female"))"></i>
                <span>@Model.Name</span>
                @if (Model.PremiumCustomer)
                {
                    <span class="" style="font-size:10px;color:black;margin-left:20px;">
                        <i class="fa fa-bookmark fa-rotate-90 fa-lg icon-color"></i>
                        Premium
                    </span>
                }

                <p class="card-text">@Html.Raw(Model.Location)</p>
                <p class="card-text">
                    <span style="" title="Primary Technology" class="">Skills :</span>
                    @Html.Raw(Model.PrimaryTechnology)
                </p>
            </div>
        </div>
        <div class="col-2 p-1">
            <a href="@(Url.RouteUrl<Product>(new { SeName = Model.SeName }))" class="btn btn-outline-success btn-sm" role="button">View More</a>
        </div>
        <div class="card-footer">
            <div class="row">
                <div id="product-@Model.Id" class="col">
                    <p class="text-start mb-0">
                        <i class="fa fa-heart fa-sm @(Model.ProfileShortListed ? Html.Raw("icon-selected-color") : Html.Raw("icon-color"))"></i>
                        <a class="product-item-links text-start" href="#" onclick="AjaxCart.addproducttocart_catalog('@addtowishlistlink');return false;">
                            @(Model.ProfileShortListed ? "ShortListed" : "ShortList")
                        </a>
                    </p>
                </div>
                <div id="product-interest-@Model.Id" class="col">
                    <p class="text-end mb-0">
                        <i class="fa fa-star fa-sm icon-color @(Model.InterestSent ? Html.Raw("icon-selected-color") : Html.Raw("icon-color"))"></i>
                        @if (Model.InterestSent)
                        {
                            <span class="product-item-links">
                                Interest Sent
                            </span>
                        }
                        else
                        {
                            <a class="product-item-links" href="#" onclick="AjaxCart.addproducttocart_catalog('@sendinterestlink');return false;">
                                Send Interest
                            </a>
                        }
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>



<style>
    .productbox-link {
        color: red !important;
    }

        /* visited link */
        .productbox-link a:visited {
            color: green !important;
        }

        /* mouse over link */
        .productbox-link a:hover {
            color: hotpink !important;
        }

        /* selected link */
        .productbox-link a:active {
            color: blue !important;
        }
</style>

